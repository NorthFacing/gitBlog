# 接口安全

* 时间戳
  - 有效时间范围内可以访问，比如对比接收到的请求的时间戳60秒以内的请求当做有效请求，因为请求从发出
    到服务器接收到不应该超过60秒（但这么做没有考虑客户端和服务端之间的时间是否一致的问题，默认完全一致）
* 签名
  - 将 参数正序 + token + 时间戳
  - 请求参数、token、时间戳 未被修改
* 基于timestamp和nonce的防止重放攻击 和 防止重复提交 方案
  - nonce（Number used once）来保证一次有效，比如nonce的规则可以定义为 客户端身份标识 + 时间戳
    （不直接用签名作为nonce的值，可能签名会有一定的概率重复？其实也可以直接用签名）
  - 将接口和nonce放入redis缓存，并设置超时时间是时间戳的失效时间
    - 时间戳有效期内：redis有缓存，可以鉴别出来是重复提交的请求，可以直接返回重复提交的错误信息
    - 时间戳有效期外：时间戳验证的时候，请求不合法，需要更新时间戳重新提交请求
* API限流
  - 同一个用户，单位时间内不能超过多少次调用，超过直接返回"请求频繁，稍后再试"
  - 接口调用次数统计，当超过平均水平的时候，需要人工介入审核这一时间段内的请求情况
* IP白名单
  - 
* 资金笔数与金额风控
  - 


# 配置文件加密

* password 等密码
* key 等秘钥




