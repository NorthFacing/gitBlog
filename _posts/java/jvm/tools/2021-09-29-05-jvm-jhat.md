---
layout:     post
title:      JVM - jhat工具
date:       2021-09-29 10:02:47 +0800
postId:     2021-09-29-10-02-47
categories: [JVM]
keywords:   [Java, JVM]
---

jhat 用于分析 heapdump 文件，它会建立一个 HTTP/HTML 服务器，让用户可以在浏览器上查看分析结果。

## jhat 使用方法

```shell
jhat ./heap.hprof
```
```
Reading from ./heap.hprof...
Dump file created Thu Sep 30 15:30:54 CST 2021
Snapshot read, resolving...
Resolving 2095248 objects...
Chasing references, expect 419 dots...................................................................................................................................................................................................................................................................................................................................................................................................................................
Eliminating duplicate references...................................................................................................................................................................................................................................................................................................................................................................................................................................
Snapshot resolved.
Started HTTP server on port 7000
Server is ready.
```

## 查看结果

浏览器访问 **`http://127.0.0.1:7000/`**，可以看到如下分析结果：

![jhat分析结果]({{ site.baseurl }}/image/post/2021/09/29/05/jhat.png)


## 参考资料
* [JVM - jhat工具]({% post_url java/jvm/tools/2021-09-29-05-jvm-jhat %})
* [监控和故障处理工具总结](https://snailclimb.gitee.io/javaguide/#/docs/java/jvm/JDK监控和故障处理工具总结?id=jdk-监控和故障处理工具总结)
